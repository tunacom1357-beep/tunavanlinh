<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Tra cứu ngày sinh</title>
    <style>
      body {
        font-family: "Segoe UI", "Roboto", Arial, sans-serif;
        margin: 40px;
        background: linear-gradient(120deg, #e0f7fa 0%, #f1f8e9 100%);
        min-height: 100vh;
      }
      h2 {
        color: #222;
        background: linear-gradient(90deg, #b2ebf2 0%, #81d4fa 100%);
        padding: 18px 30px;
        border-radius: 16px;
        box-shadow: 0 6px 20px rgba(33, 150, 243, 0.1);
        text-align: center;
        margin-bottom: 30px;
        letter-spacing: 1px;
      }
      label {
        font-weight: bold;
        color: #222;
        letter-spacing: 0.5px;
        font-size: 1.1em;
      }
      input[type="date"] {
        padding: 12px 20px;
        border: none;
        border-radius: 12px;
        background: #e0f2f1;
        box-shadow: 0 2px 8px rgba(33, 150, 243, 0.08);
        font-size: 1em;
        margin: 10px 0 16px 0;
        transition: box-shadow 0.2s;
        color: #222;
      }
      input[type="date"]:focus {
        outline: none;
        box-shadow: 0 0 0 3px #4dd0e157;
      }
      .result {
        background: linear-gradient(100deg, #e3f2fd 0%, #e0f7fa 100%);
        padding: 24px;
        border-radius: 16px;
        margin-top: 24px;
        box-shadow: 0 4px 16px rgba(33, 150, 243, 0.08);
        border: 1px solid #b2ebf2;
        animation: fadeIn 0.6s;
      }
      @keyframes fadeIn {
        0% {
          opacity: 0;
          transform: translateY(10px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .answer:nth-child(1) {
        background: linear-gradient(90deg, #b2ebf2 0%, #e0f7fa 100%);
      }
      .answer:nth-child(2) {
        background: linear-gradient(90deg, #c8e6c9 0%, #b2dfdb 100%);
      }
      .answer:nth-child(3) {
        background: linear-gradient(90deg, #bbdefb 0%, #b3e5fc 100%);
      }
      .answer:nth-child(4) {
        background: linear-gradient(90deg, #b3e5fc 0%, #e1f5fe 100%);
      }
      .answer:nth-child(5) {
        background: linear-gradient(90deg, #e0f2f1 0%, #a5d6a7 100%);
      }
      .answer:nth-child(6) {
        background: linear-gradient(90deg, #e1f5fe 0%, #b2ebf2 100%);
      }
      .answer {
        margin: 12px 0;
        font-size: 1.09em;
        color: #222;
        padding: 10px 18px;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(33, 150, 243, 0.03);
        transition: background 0.2s;
        border-left: 5px solid #4dd0e1;
      }
      .answer b {
        color: #039be5;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <h2>Tra cứu thông tin từ ngày sinh</h2>
    <label for="dob">Nhập ngày sinh của bạn:</label><br />
    <input type="date" id="dob" name="dob" required />
    <div class="result" id="result" style="display: none"></div>
    <script>
      // Bảng Can Chi
      const can = [
        "Giáp",
        "Ất",
        "Bính",
        "Đinh",
        "Mậu",
        "Kỷ",
        "Canh",
        "Tân",
        "Nhâm",
        "Quý",
      ];
      const chi = [
        "Tý",
        "Sửu",
        "Dần",
        "Mão",
        "Thìn",
        "Tỵ",
        "Ngọ",
        "Mùi",
        "Thân",
        "Dậu",
        "Tuất",
        "Hợi",
      ];
      // Bảng mệnh theo Lục Thập Hoa Giáp (tính từ 1924 - Giáp Tý)
      const menh60 = [
        "Hải Trung Kim",
        "Hải Trung Kim",
        "Lư Trung Hỏa",
        "Lư Trung Hỏa",
        "Đại Lâm Mộc",
        "Đại Lâm Mộc",
        "Lộ Bàng Thổ",
        "Lộ Bàng Thổ",
        "Kiếm Phong Kim",
        "Kiếm Phong Kim",
        "Sơn Đầu Hỏa",
        "Sơn Đầu Hỏa",
        "Giản Hạ Thủy",
        "Giản Hạ Thủy",
        "Thành Đầu Thổ",
        "Thành Đầu Thổ",
        "Bạch Lạp Kim",
        "Bạch Lạp Kim",
        "Dương Liễu Mộc",
        "Dương Liễu Mộc",
        "Tuyền Trung Thủy",
        "Tuyền Trung Thủy",
        "Ốc Thượng Thổ",
        "Ốc Thượng Thổ",
        "Tích Lịch Hỏa",
        "Tích Lịch Hỏa",
        "Tùng Bách Mộc",
        "Tùng Bách Mộc",
        "Trường Lưu Thủy",
        "Trường Lưu Thủy",
        "Sa Trung Kim",
        "Sa Trung Kim",
        "Sơn Hạ Hỏa",
        "Sơn Hạ Hỏa",
        "Bình Địa Mộc",
        "Bình Địa Mộc",
        "Bích Thượng Thổ",
        "Bích Thượng Thổ",
        "Kim Bạch Kim",
        "Kim Bạch Kim",
        "Phúc Đăng Hỏa",
        "Phúc Đăng Hỏa",
        "Thiên Hà Thủy",
        "Thiên Hà Thủy",
        "Đại Dịch Thổ",
        "Đại Dịch Thổ",
        "Thoa Xuyến Kim",
        "Thoa Xuyến Kim",
        "Tang Đố Mộc",
        "Tang Đố Mộc",
        "Đại Khê Thủy",
        "Đại Khê Thủy",
        "Sa Trung Thổ",
        "Sa Trung Thổ",
        "Thiên Thượng Hỏa",
        "Thiên Thượng Hỏa",
        "Thạch Lựu Mộc",
        "Thạch Lựu Mộc",
        "Đại Hải Thủy",
        "Đại Hải Thủy",
      ];
      // Bảng cung hoàng đạo
      const zodiacSigns = [
        { name: "Ma Kết", start: [12, 22], end: [1, 19] },
        { name: "Bảo Bình", start: [1, 20], end: [2, 18] },
        { name: "Song Ngư", start: [2, 19], end: [3, 20] },
        { name: "Bạch Dương", start: [3, 21], end: [4, 19] },
        { name: "Kim Ngưu", start: [4, 20], end: [5, 20] },
        { name: "Song Tử", start: [5, 21], end: [6, 21] },
        { name: "Cự Giải", start: [6, 22], end: [7, 22] },
        { name: "Sư Tử", start: [7, 23], end: [8, 22] },
        { name: "Xử Nữ", start: [8, 23], end: [9, 22] },
        { name: "Thiên Bình", start: [9, 23], end: [10, 23] },
        { name: "Bọ Cạp", start: [10, 24], end: [11, 22] },
        { name: "Nhân Mã", start: [11, 23], end: [12, 21] },
      ];
      function getZodiac(month, day) {
        for (let i = 0; i < zodiacSigns.length; i++) {
          const sign = zodiacSigns[i];
          if (
            (month === sign.start[0] && day >= sign.start[1]) ||
            (month === sign.end[0] && day <= sign.end[1])
          ) {
            return sign.name;
          }
        }
        return zodiacSigns[0].name;
      }
      function getCanChi(year) {
        const canIndex = (year + 6) % 10;
        const chiIndex = (year + 8) % 12;
        return `${can[canIndex]} ${chi[chiIndex]}`;
      }
      function getMenh(year) {
        const baseYear = 1924;
        let offset = (year - baseYear) % 60;
        if (offset < 0) offset += 60;
        return menh60[offset];
      }
      function getConGiap(year) {
        const chiIndex = (year + 8) % 12;
        return chi[chiIndex];
      }
      // Sự kiện khi nhập ngày sinh
      document.getElementById("dob").addEventListener("input", function () {
        const dobStr = this.value;
        const resultBox = document.getElementById("result");
        if (!dobStr) {
          resultBox.style.display = "none";
          resultBox.innerHTML = "";
          return;
        }
        const dob = new Date(dobStr);
        const now = new Date();
        const diffTime = Math.abs(now - dob);
        const diffDays = Math.floor(diffTime / (1000 * 3600 * 24));
        const year = dob.getFullYear();
        const month = dob.getMonth() + 1;
        const day = dob.getDate();

        // Tính tuổi
        let tuoi = now.getFullYear() - dob.getFullYear();
        // Kiểm tra nếu chưa tới ngày sinh nhật năm nay thì trừ đi 1
        if (
          now.getMonth() + 1 < month ||
          (now.getMonth() + 1 === month && now.getDate() < day)
        ) {
          tuoi--;
        }

        resultBox.style.display = "block";
        resultBox.innerHTML = `
        <div class="answer"><b>Bạn đã sống được:</b> ${diffDays} ngày.</div>
        <div class="answer"><b>Tuổi hiện tại:</b> ${tuoi} tuổi.</div>
        <div class="answer"><b>Năm sinh của bạn là:</b> ${getCanChi(
          year
        )} (${year}).</div>
        <div class="answer"><b>Mệnh của bạn là:</b> ${getMenh(year)}.</div>
        <div class="answer"><b>Cung hoàng đạo của bạn là:</b> ${getZodiac(
          month,
          day
        )}.</div>
        <div class="answer"><b>Con giáp của  bạn là :</b> ${getConGiap(
          year
        )}.</div>
      `;
      });
    </script>
  </body>
</html>
